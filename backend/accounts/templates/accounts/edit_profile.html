{% extends 'rekenett/base.html' %}
{% load static %}
{% load rekenett_tags %}
{% block title %}{{ profile.user }} Endre{% endblock title %}

{% block head %}
    <style media="screen"> 
        #form {
            max-width: 35em;
        }
    </style>
{% endblock head %}

{% block breadcrumbs %}
    <li class="breadcrumb-item"><a href="{% url 'accounts:profile' %}">Min profil</a></li>
    <li class="breadcrumb-item"><a href="{% url 'accounts:edit_profile' %}">Rediger profil</a></li>
{% endblock %}

{% block body %}
    <div class="container">
        
        <div class="text-center display-4">Endre profil</div>
        
        <form method="post" class="mt-4" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="">
                {% for error in form.non_field_errors %}
                    <div class="text-danger font-bold">{{ error }}</div>
                {% endfor %}
            </div>
            
            <div class="row m-0 p-0">
                <div class="col-lg">
                    
                    <div class="mt-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text bg-dark text-light border-0">{{ form.nickname.label }}</div>
                            </div>
                            {{ form.nickname }}
                        </div>
                        <div class="text-danger font-bold">{{ form.nickname.errors }}</div>
                    </div>
                    
                    <div class="mt-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text bg-dark text-light border-0">{{ form.marital.label }}</div>
                            </div>
                            {{ form.marital }}
                        </div>
                        <div class="text-danger font-bold">{{ form.marital.errors }}</div>
                    </div>
                    
                    <div class="mt-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text bg-dark text-light border-0">{{ form.gender.label }}</div>
                            </div>
                            {{ form.gender }}
                        </div>
                        <div class="text-danger font-bold">{{ form.gender.errors }}</div>
                    </div>

                        <div class="mt-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text bg-dark text-light border-0">{{ form.term_joined.label }}</div>
                            </div>
                            {{ form.term_joined }}
                        </div>
                        <small class="text-muted">{{form.term_joined.help_text}}</small>
                        <div class="text-danger font-bold">{{ form.term_joined.errors }}</div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="mt-3">
                        <div class="bg-dark text-light text-center rounded-top h4 m-0 p-1">{{ form.profile_picture.label }}</div>
                        <div id="display_id_profile_picture" class="row p-0 m-0">
                            <div class="col-md m-0 p-0">
                                <img class="img-fluid" src="{% profile_picture form.instance.user %}"/>
                            </div>
                        </div>
                        {{ form.profile_picture }}
                        <div class="text-danger font-bold">{{ form.profile_picture.errors }}</div>
                    </div>                                       
                </div>
            </div>
            <div class="row m-0 p-0">
                <div class="col-lg"> 
                    <div class="mt-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text bg-dark text-light border-0">{{ form.food_preferences.label }}</div>
                            </div>
                            {{ form.food_preferences }}
                        </div>
                        <div class="text-danger font-bold">{{ form.food_preferences.errors }}</div>
                    </div>
                </div>
            </div>
            <div class="row m-0 mt-3 px-3">
                {% if form.instance.id %}
                    <a class="col-2 mr-2 btn btn-danger" href="{% url 'accounts:edit_profile' %}" name="button">Avbryt</a>
                {% endif %}
                <button class="col ml-2 btn btn-primary" type="submit" name="button">Oppdater</button>           
            </div>
        </form>
    </div>
{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="{% static "gallery/js/view_uploaded_file.js" %}"></script>
{% endblock scripts %}

