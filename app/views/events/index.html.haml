- cache cache_key_for_events_index(@events) do
  %h1.text-Align
    = t("navigation.main.events")

  .text-Align
    = render 'search_form', post_path: search_events_path

  .ajax-search

  .flex-column.mobile-event
    - @events.group_by {|i| i.start_time.to_date }.sort.each do |date, events|
      %div.samf-container.white.m-3{style: "padding-top: 0;"}
        %h2.text-Align.p-1.background-color.red.title.white= l(date, format: :medium_long)
        %tbody
          = render events.sort_by{|event| event.start_time}

.flex-column.mt-3
  %a.samf-button.blue.center.mb-3{ href: archive_events_path, title: t('events.archive.title')}
    = t('events.archive.title')
  .center.flex-row
    %a.samf-button.plain.mr-2{ href: '/rss', title: t('events.rss_alt_text')}
      = t('events.rss_short_text')
    %a.samf-button.plain.ml-2{ href: '/arrangement/ical', title: t('events.ical_alt_text')}
      = t('events.ical_short_text')